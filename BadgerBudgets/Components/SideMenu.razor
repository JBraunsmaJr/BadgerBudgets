@using BadgerBudgets.Services

<MudNavMenu>
    @if (_hasSources)
    {
        <MudNavLink Icon="@Icons.Material.Filled.Dashboard" Href="" Match="NavLinkMatch.All">Dashboard</MudNavLink>
    }
    <MudNavGroup Title="Sources" @bind-Expanded="_isExpanded">
        <MudNavLink Href="sources"
                    Icon="@Icons.Material.Filled.Add"
                    Match="NavLinkMatch.All">
            New Source
        </MudNavLink>
        @if (_hasSources)
        {
            <MudNavLink Href="sources/manage"
                        Icon="@Icons.Material.Filled.Edit"
                        Match="NavLinkMatch.All">
                Manage Sources
            </MudNavLink>
        }
    </MudNavGroup>
</MudNavMenu>

@code {
    bool _isExpanded = true;
    bool _hasSources;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        _hasSources = StatementService.SourceMaterials.Count > 0;
    }

}